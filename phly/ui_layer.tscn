[gd_scene load_steps=2 format=3 uid="uid://dcsdewssu0eov"]

[sub_resource type="GDScript" id="GDScript_mow34"]
resource_name = "life_bar"
script/source = "extends ProgressBar

@export var player_fly: CharacterBody3D

const DECREMENT_INTERVAL = 1.0
const DECREMENT_VALUE = 1.0
var cooldown
var health: int
# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	var starting_health_options := [100,50,80,120]
	cooldown = 1.0
	health = starting_health_options[randi() % starting_health_options.size()]
	value = health
	max_value = health
	pass # Replace with function body.



func decrement_health_every_second(delta: float):
	cooldown -= delta
	if cooldown <= 0:
		print(health)
		health -= DECREMENT_VALUE
		cooldown = DECREMENT_INTERVAL

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	decrement_health_every_second(delta)
	value = health
		
"

[node name="CanvasLayer" type="CanvasLayer"]

[node name="LifeBar" type="ProgressBar" parent="."]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -122.0
offset_top = 18.0
offset_right = -23.0
offset_bottom = 45.0
grow_horizontal = 0
show_percentage = false
script = SubResource("GDScript_mow34")
